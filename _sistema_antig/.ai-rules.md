# Regras Globais para Desenvolvimento de CMS em PHP (MVP / Laravel)

Este documento define **regras obrigatórias** que a IDE, o assistente de código e qualquer automação devem **sempre consultar e obedecer antes de gerar, alterar ou sugerir código**.

Escopo exclusivo:

* CMS em **PHP**
* Arquiteturas **MVP** ou **Laravel**
* Domínio oficial do projeto: **[https://inforagro.com.br](https://inforagro.com.br)**

---

## 1. Princípios Fundamentais (Invioláveis)

1. **Nunca fazer gambiarra**

   * Código improvisado, duplicado, hardcoded ou sem padrão é proibido.
   * Toda solução deve ser tecnicamente justificável.

2. **Código limpo e moderno**

   * Seguir princípios de *Clean Code*, *SOLID* e *PSR (PSR-12, PSR-4)*.
   * Utilizar apenas práticas atualizadas e compatíveis com versões estáveis do PHP.

3. **Isolamento total de contexto**

   * É proibido herdar, reutilizar ou inferir:

     * Código
     * Memória
     * Configurações
     * Rotas
     * Estruturas
   * De **folders, projetos ou chats externos**.

4. **Ambiente sempre limpo**

   * Cada projeto começa do zero.
   * Nenhum resíduo de código antigo é permitido.

---

## 2. Arquitetura e Organização

### 2.1 Estrutura de Projeto

* Estrutura **100% componentizada**.
* Separação clara de responsabilidades:

  * Controllers
  * Services
  * Repositories
  * Models
  * Views
  * Components

Exemplo (Laravel):

```
app/
 ├── Http/Controllers/
 ├── Services/
 ├── Repositories/
 ├── Models/
 └── View/Components/
```

### 2.2 MVP (quando aplicável)

* **Model**: regra de negócio e persistência
* **View**: HTML sem lógica de negócio
* **Presenter**: intermediador entre Model e View

---

## 3. Versionamento

* Usar **Git** obrigatoriamente.

* Commits semânticos:

  * feat:
  * fix:
  * refactor:
  * chore:
  * docs:

* Versionar quando:

  * Estrutura mudar
  * Regra de negócio for alterada
  * API ou rota pública sofrer impacto

---

## 4. Rotas e URLs

1. **URLs amigáveis (obrigatório)**
2. Idioma padrão: **pt-BR**
3. Sem parâmetros expostos desnecessários

Exemplos:

* ✅ `/noticias/agricultura-sustentavel`
* ❌ `/news.php?id=12`

4. Rotas devem:

   * Ser nomeadas
   * Ser centralizadas
   * Seguir padrão REST quando aplicável

---

## 5. Datas, Localização e Internacionalização

* Formato padrão: **pt-BR**

  * Datas: `dd/mm/yyyy`
  * Horário: `HH:mm`

* Usar `Carbon` (Laravel) ou equivalente.

---

## 6. Front-end

### 6.1 Tecnologias Permitidas

* **HTML5**
* **CSS3**
* **CSS Nesting**
* **Tailwind CSS** (obrigatório)

### 6.2 Regras de Estilo

* Não usar CSS inline
* Não duplicar classes
* Componentes visuais reutilizáveis
* Responsividade obrigatória

---

## 7. SEO (Obrigatório em 100% das Páginas)

## 7.5 SGE, IA e Indexação para LLMs (Obrigatório)

1. **Compatibilidade com SGE (Search Generative Experience)**

   * Estruturar conteúdos para leitura por mecanismos generativos.
   * Conteúdos claros, objetivos e bem hierarquizados.

2. **Otimização para IAs e Modelos de Linguagem (LLMs)**

   * Conteúdo legível por máquinas e humanos.
   * Uso consistente de dados estruturados.
   * Evitar conteúdo ambíguo ou mal formatado.

3. **Arquivo `llms.txt` (Obrigatório)**

   * Criar e manter o arquivo `llms.txt` na raiz do domínio.
   * Declarar permissões, contexto do site e escopo de uso para IAs.
   * Manter o arquivo sempre atualizado conforme o CMS evoluir.

4. **Conteúdo AI-Friendly**

   * Priorizar HTML semântico.
   * Evitar dependência excessiva de JS para renderização de conteúdo crítico.
   * Garantir que conteúdos essenciais estejam disponíveis no HTML inicial.

---

## 7. SEO (Obrigatório em 100% das Páginas)

### 7.1 SEO Estruturado

* Uso de **Schema.org**
* Dados estruturados em JSON-LD

### 7.2 SEO Semântico

* Uso correto de:

  * `<header>`
  * `<main>`
  * `<section>`
  * `<article>`
  * `<footer>`

* Hierarquia correta de headings (`h1` único por página)

### 7.3 SEO de Imagem

* Todas as imagens devem conter:

  * `alt` descritivo
  * Nome de arquivo semântico
  * Dimensões otimizadas

### 7.4 Metadados

* Title único
* Meta description única
* Canonical URL

---

## 8. Performance e Boas Práticas

* Evitar queries N+1
* Cache quando aplicável
* Lazy loading de imagens
* Assets minificados

---

## 9. Segurança

* Proteção contra:

  * SQL Injection
  * XSS
  * CSRF

* Validação de dados obrigatória

* Nunca confiar em input do usuário

---

## 10. Proibições Absolutas

* ❌ Gambiarra
* ❌ Código legado sem refatoração
* ❌ Copiar código externo sem adaptação
* ❌ Misturar lógica de negócio com View
* ❌ URLs em outro idioma

---

## 11. Regra Final

> **Se qualquer regra deste documento não puder ser seguida, o código NÃO deve ser gerado.**

Este documento é a autoridade máxima para qualquer decisão técnica relacionada ao CMS do domínio **inforagro.com.br**.
